[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this blog"
  },
  {
    "objectID": "archive/posts_to_process/2021-10-28-first-post.html",
    "href": "archive/posts_to_process/2021-10-28-first-post.html",
    "title": "First blog post",
    "section": "",
    "text": "This is my first blog post on this website ü•≥\nEvery now and then I‚Äôll write about what‚Äôs going on with my research group, and also about random stuff that interest me.\nSee you around!"
  },
  {
    "objectID": "posts/2025-09-17-celestial/index.html",
    "href": "posts/2025-09-17-celestial/index.html",
    "title": "Celestial",
    "section": "",
    "text": "They call it online the Celestial Kusudama.\nThese are the instructions to Joseph Hwang‚Äôs design.\n\n\nIn geometry, this is the Rhombic hexecontahedron, one of the setllations of the Rhombic triacontahedron.\nThis is the same shape as Wolfram Mathematica‚Äôs logo."
  },
  {
    "objectID": "posts/2025-06-14-phizz/index.html",
    "href": "posts/2025-06-14-phizz/index.html",
    "title": "PHiZZ",
    "section": "",
    "text": "The PHiZZ module is probably the easiest modular origami unit to fold, and it is also very versatile. PHiZZ stands for pentagon-hexagon zig-zag unit, because you can make a shape made of pentagons and hexagons.\nThe shape below is make of 12 pentagons. \nFrom the excellent origametry.net, we learn how to fold the PHiZZ unit.\n\nTo put the units together, follow this:\n\nIt is nice to build shapes out of 3 colors, which means that we can construct a Hamiltonian path through the shape, which is a path that visits each vertex exactly once. See the ‚Äúfootball‚Äù below (12 pentagons, each surrounded by 5 hexagons). If you choose one color to ignore, you can think of the hamiltonian path as the one that is made of the other two colors.\n\nExtra links:\n\nNotes on Spherical Buckyballs ‚Äì Part 1\nNotes on Spherical Buckyballs ‚Äì Part 2\nLarge Phizz Buckyball"
  },
  {
    "objectID": "posts/2021-10-28-pythagoras/index.html",
    "href": "posts/2021-10-28-pythagoras/index.html",
    "title": "Pythagorean theorem",
    "section": "",
    "text": "I‚Äôve been interested lately in the Pythagorean theorem, and the myriad of ways one can prove it.\n\nAn excellent resource is the website Cut The Knot.\nAnother great source is John C. Sparks‚Äô The Pythagorean Theorem: Crown Jewel of Mathematics.\nFinally, I would recommend Eli Maor‚Äôs book, ‚ÄúThe Pythagorean Theorem‚Äù.\n\n\n\n\n\nI used my tablet to write down my own version of some of the nicest proofs, see here."
  },
  {
    "objectID": "posts/2025-09-17-snapology/index.html",
    "href": "posts/2025-09-17-snapology/index.html",
    "title": "Snapology",
    "section": "",
    "text": "This technique is quite easy to master, and gives you infinite options.\nRead these pages from Faye E. Goldman‚Äôs book, Geometric Origami.\nThere are lots of tutorials on youtube, look them up :)\nI found this tutorial useful:\nWhat I like most about Snapology is that you can construct many kinds of solids:"
  },
  {
    "objectID": "posts/2025-09-17-snapology/index.html#platonic-solids",
    "href": "posts/2025-09-17-snapology/index.html#platonic-solids",
    "title": "Snapology",
    "section": "Platonic solids",
    "text": "Platonic solids\n\nAn icosahedron."
  },
  {
    "objectID": "posts/2025-09-17-snapology/index.html#archimedean-solids",
    "href": "posts/2025-09-17-snapology/index.html#archimedean-solids",
    "title": "Snapology",
    "section": "Archimedean solids",
    "text": "Archimedean solids\n\nA snub dodecahedron.\n\nA rhombicosidodecahedron.\n\nA snub cube."
  },
  {
    "objectID": "posts/2025-09-17-snapology/index.html#catalan-solids",
    "href": "posts/2025-09-17-snapology/index.html#catalan-solids",
    "title": "Snapology",
    "section": "Catalan solids",
    "text": "Catalan solids\nThese are the duals of the Archimedean solids.\n\nA rhombic triacontahedron."
  },
  {
    "objectID": "posts/2025-06-14-triangle-edge-module/index.html",
    "href": "posts/2025-06-14-triangle-edge-module/index.html",
    "title": "Triangle Edge Module",
    "section": "",
    "text": "With this module you can make only one shape, a dodecahedron. It is surprising how sturdy it is, you have to hold it to understand. This module was invented by Lewis Simon and Bennett Arnstein. Differently from the common square-based modules, this one is based on a 2x1 rectangle.\n\nFull instructions how to fold: here\nIf you prefer a video, see below."
  },
  {
    "objectID": "posts/2021-10-27-can-problem/index.html",
    "href": "posts/2021-10-27-can-problem/index.html",
    "title": "The can problem",
    "section": "",
    "text": "question\nHow does the center of mass of a can of soda vary with the level of the liquid?\n\nThe center of mass of the aluminum can does not change, and assuming that the can is perfectly symmetric, its height should be half of the total can height. Calling the total height \\(L\\), we have that \\(r_\\text{can} = L/2\\).\nAs the soda level in the can goes down, two things happen at the same time:\n\nThe center of mass of the liquid goes linearly from \\(L/2\\) to 0.\nThe mass of the liquid goes linearly to zero as well.\n\nAt the very beginning both centers of mass are at \\(L/2\\), and so is the center of mass of the whole thing. At the end, the liquid is depleted and does not contribute anything to the center of mass, so again the whole system has its center of mass at \\(L/2\\). Can we figure out what equation gives us the total center of mass as a function of the liquid level?\nThe center of mass of the system is given by \\[\nr_{cm}(h) = \\frac{r_\\text{can}\\cdot m_\\text{can} + r_\\text{liq}\\cdot m_\\text{liq}}{m_\\text{can} + m_\\text{liq}},\n\\tag{1}\\] where\n\n\\(m_\\text{can}\\) is the mass of the aluminum can,\n\\(r_\\text{can} = L/2\\) is the center of mass of the aluminum can,\n\\(r_\\text{liq} = h/2\\) is the center of mass of the soda,\n\\(m_\\text{liq} = \\rho \\cdot \\pi R^2 \\cdot h\\) is the mass of the can,\n\\(h\\) is the soda level above the table,\n\\(R\\) is the radius of the can,\n\\(\\rho\\) is the density of the soda.\n\nSubstituting these quantities into Equation¬†1 gives\n\\[\nr_{cm}(h) = \\frac{C \\frac{L}{2} + \\frac{h^2}{2}}{C+h},\n\\tag{2}\\] where the constant \\(C\\) is \\[\nC = \\frac{m_\\text{can}}{\\rho \\cdot \\pi R^2}.\n\\]\nI googled the typical values for a soda can, and got the following:\n\n\\(L = 122\\) mm\n\\(R = 3.31\\) mm\n\\(m_\\text{can} = 14\\) g\n\\(\\rho = 1.026\\) g/mL\n\nSo how does Equation¬†2 look like?\n\nUsing the values above, we find that the lowest value for the center of mass of the whole system is when the soda has a level of only 6.6 mm! This is when the can should be less likely to topple, because the center of mass is so low (relative the the total mass).\nI‚Äôll finish with the Python code I used to produce the graph above.\n\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_theme(style=\"ticks\", font_scale=1.5)\nfrom sympy import symbols, diff, solve\nfrom sympy.abc import x\n\n\nL = 122.0 # mm\nR = 3.31 # mm\nMcan = 14 # g\nrho_soda = 1.026 # g/mL\nC = Mcan / (rho_soda * np.pi * R**2)\nh = np.linspace(0, L, 1001)\n\ndef RCM(H):\n    return (C*L/2 + H**2/2) / (C+H)\nRcm = RCM(h)\n\n# Convert the function to a symbolic expression\nexpr = RCM(x)\n# Take the derivative\nf_prime = diff(expr, x)\n# Solve for x where the derivative equals zero\nsolutions = solve(f_prime, x)\n# Print the solutions\nprint(solutions)\n# choose the physically relevant solution\nh_min= solutions[1]\n\n[-7.36225033226790, 6.56937517541552]\n\n\n\nfig, ax = plt.subplots(1)\nax.plot(h, Rcm, lw=3, color=\"xkcd:hot pink\", clip_on=False, zorder=100)\nax.annotate(f\"can is less likely to topple when\\nlevel = {h_min:.1f} mm\",\n            xy=(h_min, RCM(h_min)), xycoords='data',\n            xytext=(15, 50), textcoords='data',\n            size=16,\n            arrowprops=dict(arrowstyle=\"-&gt;\",\n                            connectionstyle=\"arc3\",\n                            color=\"black\"),\n            )\nax.set(\n    xlabel=\"soda level (mm)\",\n    ylabel=\"center of mass (mm)\",\n    ylim=[0,L/2+5],\n    xlim=[0, h[-1]],\n    title=\"center of mass of a can of soda partially full\")\n\n# hide the right and top spines\nax.spines['right'].set_visible(False)\nax.spines['top'].set_visible(False)\n\nfig.savefig(\"can_graph.png\", bbox_inches='tight', dpi=300)"
  },
  {
    "objectID": "posts/2021-11-08-george-hart-card-constructions/index.html",
    "href": "posts/2021-11-08-george-hart-card-constructions/index.html",
    "title": "George Hart‚Äôs Card Constructions",
    "section": "",
    "text": "George Hart is a sculptor and geometer, and his webpage has the best projects for the artistically-minded nerd!\nThe image above shows the 30-cards construction, but it is not identical to what George Hart shows on his card constructions page. I actually used Francesco De Comit√©‚Äôs version, also credited by Hart. The idea is that you strategically cut the cards in very specific places, so that they can be slided together.\nFiguring out how to cut the cards was quite hard to me, I had to experiment a lot! George Hart provides printable templates, but their dimensions are different from the cards I used. Finally besides cutting the cards, the task of putting everything together was a nightmare. It‚Äôs been a while since I built this, but I think that I used clothes pegs to hold the cards together before the whole thing is ready. Once you finish building the structure, it should be much more stable (but not enough to throw it in the air!!).\nBecause there is a 5-fold symmetry, naturally the golden ratio\n\\[\\varphi = \\frac{1+\\sqrt{5}}{2}\\]\nfigures quite prominently in there. Francesco De Comit√© provides in his Flickr page a plan for how to cut the cards:\n\nI put the plan above for the future me to understand what it means, because I myself didn‚Äôt use this‚Ä¶ I found in one of my ‚Äúprojects‚Äù folders my own calculations of how to cut the cards. It shows only the cuts on the top side. One should rotate the card 180 degrees and do the same cuts on the other side. For a card of height H and length L, my cutting plan is the following.\n\nThe cuts are the thick blue lines, and the red arrows show the length \\(L/\\varphi\\) of one of the cuts and of the uncut (dashed) part. From this I hope you can imagine that when the cards are slided together, the two cuts amount to the length of the whole ‚Äúdiagonal‚Äù, such that the two card ends are flush. I wish I could explain why the plan is what it is, but some time has passed and I have no idea any more ü§∑‚Äç‚ôÇÔ∏è‚Ä¶"
  },
  {
    "objectID": "posts/2021-11-12-skewer-hyperboloid/index.html",
    "href": "posts/2021-11-12-skewer-hyperboloid/index.html",
    "title": "Skewer Hyperboloid",
    "section": "",
    "text": "George Hart is again the hero of this project. Go check out his webpage to see how to build this beautiful shape. All you need to make the skewer hyperboloid is a bunch of skewers and thin elastic bands.\nThis is an easy project, and the end result is so fun to play with! It is surprising how smoothly this shape morphes when you pull and push the skewers to change the angle, it‚Äôs hard to explain, so you should definitely try it yourself üòÅ. See Annie Perkins‚Äôs video to get a better idea:\n\n\n\nThe one thing I can add to George Hart‚Äôs page is that after many weeks and months the elastic bands will dry out and break! I gave a skewer hyperboloid to a friend, and one day he arrived at his office and found out that the whole thing had disintegrated overnight, and the skewers were all over the place. I‚Äôm still looking for a suitable substitute to the elastic bands. It must be something flexible that enables us to play with the construction, and at the same time something durable‚Ä¶ I have not found yet the perfect material, if you have a suggestion please write to me.\nI wanted my hyperboloid to last for a long time, so after the construction was done, I used super glue to fix the skewers in a particular angle. Now I can‚Äôt play with it, but at least it will not disintegrate overnight in a few months time (hopefully!).\n\nThe mathematical name of this shape is ‚Äúhyperboloid of one sheet‚Äù, and its equation is\n\\[\n\\begin{equation}\n\\frac{x^2}{A^2} + \\frac{y^2}{B^2} - \\frac{z^2}{C^2} = 0.\n\\end{equation}\n\\]\nWhen \\(A=B\\) the horizontal cross-sections are circles, just like in our construction. The elastic bands effectively allow us to play with the parameter \\(C\\), which controls how fast the hyperboloid grows sideways. There is a wonderful widget in the Interactive Gallery of Quadric Surfaces, its quite fun to play with.\nTo see how this curved surface can be made entirely out of straight lines, one can define the surface as the set of all parametric curves of the kind\n\\[\n\\begin{align}\nx &= A (\\cos \\theta - v \\sin \\theta)\\\\\ny &= B (\\sin \\theta + v \\cos \\theta)\\\\\nz &= C \\varepsilon v.\n\\end{align}\n\\]\nSubstitute the parametric equations above into the equation of the paraboloid and see that they satisfy it.\nThere are actually two families of curves, for \\(\\epsilon=\\pm 1\\). I made a Mathematica plot of the two families of lines, in red (\\(\\varepsilon=1\\)) and in blue (\\(\\varepsilon=-1\\)), for ten \\(\\theta\\) values between 0 and \\(2\\pi\\). It‚Äôs easy to see that each family of lines swirls in a different direction.\n\n\n\n\n\nThe Mathematica code I wrote is\na = 1; b = 1; c = 1; h = 4; n = 10;\np1 = ContourPlot3D[ (*hyperboloid*)   \n   x^2/a^2 + y^2/b^2 - z^2/c^2 == 1, {x, -h, h}, {y, -h, h}, {z, -h, \n    h},\n   Mesh -&gt; None, ContourStyle -&gt; Opacity[0.4], AxesLabel -&gt; {x, y, z},\n    LabelStyle -&gt; Large\n   ];\np2 = ParametricPlot3D[ (*red lines*)\n   Table[{\n     a (Cos[theta] - v Sin[theta]),\n     b (Sin[theta] + v Cos[theta]),\n     c v\n     }, {theta, 0, 2 Pi, 2 Pi/n}],\n   {v, -20, 20}, PlotStyle -&gt; {Red}\n   ];\np3 = ParametricPlot3D[ (*blue lines*)\n   Table[{\n     a (Cos[theta] - v Sin[theta]),\n     b (Sin[theta] + v Cos[theta]),\n     - c v\n     }, {theta, 0, 2 Pi, 2 Pi/n}],\n   {v, -20, 20}, PlotStyle -&gt; {Blue}\n   ];\nShow[{p1, p2, p3}]"
  },
  {
    "objectID": "posts/2021-11-16-doubling-time/index.html",
    "href": "posts/2021-11-16-doubling-time/index.html",
    "title": "Doubling Time",
    "section": "",
    "text": "question\nIsrael has currently (2021) a population of 9.2 million, and a growth rate of 1.8% per year. How long will it take for the population to double, assuming a fixed growth rate?\n\nSuppose you have a process that can be described by exponential growth. It could be anything: interests on an investment, the early phases of infection in a pandemic, whatever.\nIt is often convenient to have an idea how fast is the growth by answering the question:\n\nHow long will it take for \\(x\\) to double in size, given a growth of \\(n\\)% per year?\n\nThe rule of thumb I learned a while back is the following:\n\nDoubling time = \\(\\displaystyle\\frac{70}{n}\\) (in years)\n\nOf course, the time unit could be anything you like, I‚Äôll deal here with years for simplicity‚Äôs sake.\nThe answer to the question about Israel in the box above is about 39 years (70 divided by 1.8), but why?!\nLet‚Äôs call \\(x_0\\) the population size now, and the growth rate \\(n\\)%. After one year, the population will be\n\\[\nx_1 = x_0 \\times \\left( 1 + \\frac{n}{100} \\right).\n\\tag{1}\\]\nAssume that after \\(y\\) years the population will be double, i.e.:\n\\[\nx_k = x_0 \\times \\left( 1 + \\frac{n}{100} \\right)^y = 2x_0.\n\\tag{2}\\]\nCancelling \\(x_0\\) in Equation¬†2 we get\n\\[\n\\left( 1 + \\frac{n}{100} \\right)^y = 2.\n\\tag{3}\\]\nWe now take the natural logarithm of both sides in Equation¬†3, yielding:\n\\[\ny\\ln\\left( 1 + \\frac{n}{100} \\right) = \\ln(2).\n\\tag{4}\\]\nNote that we took \\(y\\) out of the exponent and it now multiplies the logarithm on the left-hand side. Multiplying both sides in Equation¬†4 by 100 yields\n\\[\n100\\,y\\ln\\left( 1 + \\frac{n}{100} \\right) = 100\\ln(2) \\simeq 69.3.\n\\tag{5}\\]\nThat surely explains the number 70 in the rule of thumb! Because of the properties of logarithms, we put the number 100 as the exponent of the parenthesis:\n\\[\ny\\ln\\left( 1 + \\frac{n}{100} \\right)^{100} = 100\\ln(2).\n\\tag{6}\\]\nWe are very close to the end! We now remind ourselves that we learned in Calculus the definition of the exponential function:\n\\[\n\\exp(x) = \\displaystyle\\lim_{m\\rightarrow \\infty} \\left( 1 + \\frac{x}{m} \\right)^{m}.\n\\tag{7}\\]\nBecause the number 100 is ‚Äúquite big‚Äù, we will approximate the parenthesis inside the logarithm in Equation¬†6 with the exponential function in Equation¬†7, yielding\n\\[\ny\\ln\\exp(n) = 100\\ln(2).\n\\tag{8}\\]\nThe logarithm is the inverse function of the exponential, therefore\n\\[\ny\\,n = \\displaystyle100\\ln(2).\n\\tag{9}\\]\nFinally, solving for \\(y\\), we have\n\\[\ny = \\displaystyle\\frac{100\\ln(2)}{n} \\simeq \\frac{70}{n}.\n\\tag{10}\\]\nWe have thus shown that the number of years \\(y\\) it will take for Israel to double it‚Äôs population is about \\(70/n = 70/1.8 = 38.88\\) years!!\nThe exact number, without any approximations, would be\n\\[\ny = \\displaystyle\\frac{\\ln(2)}{\\ln(1+n/100)}\\simeq 38.85.\n\\tag{11}\\]\n\nconclusion\nüëç Very impressive rule of thumb üëç"
  },
  {
    "objectID": "posts/2021-11-03-sonobe/index.html",
    "href": "posts/2021-11-03-sonobe/index.html",
    "title": "The Sonobe Module",
    "section": "",
    "text": "All these modular origami constructions are made of a single basic module, the Sonobe unit. \nThe basic unit has flaps and pockets.\n\nThe actual folding of the Sonobe module is quite easy, see the instructions below, taken from Michael Naughton‚Äôs excellent diagram.\n\nThis is an incredibly flexible unit, allowing us to combine it in many ways. This pdf shows how to combine different numbers of Sonobe modules to produce the shapes above, and many others. If all meeting points of the basic unit contain 3 modules, one gets a cube. If all meeting points contain 4 modules, then we produce a octahedron (with pyramids on each of its faces).\n\nThe results can be very impressive! Above is a Truncated Icosahedron, made of pentagons surrounded by hexagons (like a soccer ball). This one is made of 90 Sonobe units, see detailed instructions."
  },
  {
    "objectID": "posts/2025-12-21-great-small-stellated-dodecahedron/index.html",
    "href": "posts/2025-12-21-great-small-stellated-dodecahedron/index.html",
    "title": "Great and Small Stellated Dodecahedron",
    "section": "",
    "text": "These instructions are from the book ‚ÄúExquisite Modular Origami‚Äù by Meenakshi Mukerji (pages 24-27 in this link).\nPages 24-25: \nPages 26-27: \nIf you prefer a video, see below.\n\n\nThe small and great stellated dodecahedra are two of the four Kepler-Poinsot solids.\n Image source: Wolfram Mathworld\nSee the video below to see the beautiful symmetry of these shapes, and how they relate to the dodecahedron."
  },
  {
    "objectID": "posts/2021-10-28-hexastix/index.html",
    "href": "posts/2021-10-28-hexastix/index.html",
    "title": "Hexastix",
    "section": "",
    "text": "I‚Äôm very proud of this construction I made about 4 years ago.\n\nIt sits prominently on my office shelf, it has never failed to impress the occasional visitor :) Although it looks complicated, this 72-pencil construction is not very hard to build! I followed Matt Parker‚Äôs youtube tutorial, it took me about 1.5 hours to make it, and another hour or so to glue it.\n\n\nMaterials:\n\n72 pencils\na few elastic bands\nsuper glue\n\nHere in Israel, I couldn‚Äôt find non-sharpened pencils. There is some risk of (small) injury if you don‚Äôt take care üò¨.\nWithout the elastic bands, this construction would not be stable. The problem is that with time the elastic bands get dry and disintegrate, so if you want to have this construction standing for a long time, you have to glue it. I put tiny drops of super glue in most of the touching points between the pencils, and it worked great!\nEnjoy making your own!\n\nPS: I‚Äôm in my office at the university writing these words, and exactly now a student passed in the corridor and asked me about the Hexastix üòÑ"
  },
  {
    "objectID": "posts/2021-11-13-parabolic-hyperboloid/index.html",
    "href": "posts/2021-11-13-parabolic-hyperboloid/index.html",
    "title": "Parabolic Hyperboloid",
    "section": "",
    "text": "Just like the hyperboloid of one sheet, the Parabolic Hyperboloid is a ruled surface. This means that it can be imagined as the surface one gets by swiping a straight line through space. In the image below, we see that each of the skewers is exactly straight, but together thay make this beautiful curved shape.\n\nThis project is quite easy to make with skewers, see its instructions here.\nThe equation that defines the surface of the parabolic hyperboloid is\n\\[\nz = Ax^2 - By^2,\n\\]\nwhere both \\(A\\) and \\(B\\) are positive numbers. This website allows us to play with the parameters and see how the surface responds.\nIn my opinion, a static image can‚Äôt convey the beauty of this shape, so I made this gif: \nIn 2020, Dillon Berger noted on Twitter that the shape of Pringles is a parabolic hyperboloid:\n\n\nThe reason Pringles fit so nicely in a cylindrical tube is because they're hyperbolic paraboloids plotted over a circular domain pic.twitter.com/BUzjPw7e17\n\n‚Äî „Äà Berger | Dillon „Äâ (@InertialObservr) February 18, 2020\n\n\nThe company took notice of this (mildly) viral tweet, and sent Dillon a box full of parabolic hyperboloids üòÅ.\n\n\nThanks @Pringles, for sending me some of these delicious Hyperbolic Paraboloids! pic.twitter.com/L3WMgqObPM\n\n‚Äî „Äà Berger | Dillon „Äâ (@InertialObservr) March 2, 2020\n\n\nThe lesson here is that it‚Äôs good to know your math üòú."
  },
  {
    "objectID": "posts/2026-01-31-legendre-transformations/index.html",
    "href": "posts/2026-01-31-legendre-transformations/index.html",
    "title": "Legendre transformations visualized",
    "section": "",
    "text": "Inspired by Dan Kosakowski‚Äôs youtube video, A Simple yet Powerful Math Trick.\nFolow his youtube channel, Abide by Reason, it‚Äôs very good.\nuseful sources:"
  },
  {
    "objectID": "posts/2026-01-31-legendre-transformations/index.html#motivation",
    "href": "posts/2026-01-31-legendre-transformations/index.html#motivation",
    "title": "Legendre transformations visualized",
    "section": "motivation",
    "text": "motivation\nIt is hard to give good motivations for the Legendre transform without goint into the physics of thermodynamics or classical mechanics. I‚Äôll do that in another post. I‚Äôll try to give here a mathematical motivation, which is to say, let‚Äôs clearly state what is the problem we would like to solve.\nSuppose we have a function \\(f(x)\\). We can compute its derivative \\(p = \\frac{df}{dx}\\). Can we express the same information contained in \\(f(x)\\) through a new function \\(g(p)\\)? What do I mean by ‚Äúthe same information‚Äù?\nInvolution\nStarting from \\(f(x)\\), we compute \\(g(p)\\) with a given procedure (to be found below). Applying the same procedure to \\(g(p)\\) gives us back \\(f(x)\\). \\(f(x)\\) and \\(g(p)\\) are but the sides of the same coin. By flipping the coin twice, we get back to where we started. This is what involution means.\nConjugate variable swap\nThe independent variable of \\(g\\) is \\(p\\), and it is defined as the derivative \\(df/dx\\). The independent variable of \\(f\\) is \\(x\\), and it is defined as the derivative \\(dg/dp\\). So the roles of dependent and independent variables are swapped, but in a very specific way.\n\n\n\n\n\n\n\n\n\nFigure¬†1: Comparison of Convex and Concave functions.\n\n\n\n\nUniqueness\nThe original function \\(f(x)\\) has to be convex (or concave) for the Legendre transform to be defined. Convexity (concavity) means that the second derivative is positive (negative). A geometric way to understand convexity is that if we draw a line between any two points of the graph of \\(f(x)\\), the line lies always above (or below) the graph. If this requirement is not satisfied, the mapping between \\(x\\) and \\(p\\) is no longer one-to-one, meaning we can no longer uniquely reconstruct the original function \\(f(x)\\) from \\(g(p)\\).\nThe challenge, then, is to find a mathematical operation that satisfies all three criteria: it must be an involution, it must swap the variable with the derivative, and it must rely on the unique curvature of the function."
  },
  {
    "objectID": "posts/2026-01-31-legendre-transformations/index.html#a-practical-example-that-doesnt-work",
    "href": "posts/2026-01-31-legendre-transformations/index.html#a-practical-example-that-doesnt-work",
    "title": "Legendre transformations visualized",
    "section": "a practical example that doesn‚Äôt work",
    "text": "a practical example that doesn‚Äôt work\nI‚Äôm following here Dan Kosakowski‚Äôs arguments, from his youtube video, A Simple yet Powerful Math Trick.\nWe start with a function \\(f(x)\\). For this practical example we‚Äôll choose a parabola. In panel a below, we plot the function\n\\[\nf(x) = x^2.\n\\]\nWe then define the slope of the function as\n\\[\np = \\frac{df}{dx}.\n\\]\nPanel b shows that if we draw tangent lines to \\(f(x)\\), them make a nice envelope of the function itself, and that is a clue that maybe we can describe the function \\(f\\) in terms of \\(p\\) instead of \\(x\\).\n\n\nimport libraries\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n\n\n\ndefine useful functions\ndef f(x):\n    return x**2\ndef f_inverse(p):\n    return (p/2)**2\ndef f2(x):\n    return (x - 1)**2\n\ndef f_prime(x):\n    return 2 * x\ndef f_prime2(x):\n    return 2 * (x - 1)\n\ndef tangent_line(x, x0):\n    return f_prime(x0) * (x - x0) + f(x0)\ndef tangent_line2(x, x0):\n    return f_prime2(x0) * (x - x0) + f2(x0)\n\n\n\n\nplot\nfig, axx = plt.subplots(2, 2, figsize=(8,8))\n\nax = axx.flatten()\nx = np.linspace(-3, 3, 100)\n\nax[0].plot(x, f(x), label='$f(x) = x^2$', color='tab:blue', lw=2)\n\nx0_values = np.arange(-2.5, 2.6, 0.1)\nfor x0 in x0_values:\n    ax[1].plot(x, tangent_line(x, x0), color='gray', alpha=0.3, lw=0.5)\nax[1].plot(x, tangent_line(x, 1), color='black', lw=2)\nx1, x2 = 1, 2\ny1, y2 = tangent_line(x1, 1), tangent_line(x2, 1)\nax[1].plot([x1, x2], [y1, y1], color='xkcd:bright pink')\nax[1].plot([x2, x2], [y1, y2], color='xkcd:bright pink')\nax[1].text(x1+(x2-x1)/2, f(x1), '1', va='bottom', ha='center', color='xkcd:bright pink')\nax[1].text(x2, y1 + (y2-y1)/2,\n           r'$p=\\dfrac{df}{dx}$', va='center', ha='left', color='xkcd:bright pink')\n\nfor axis in ax[[0,1]]:\n    axis.spines['left'].set_position('zero')\n    axis.spines['bottom'].set_position('zero')\n    axis.spines['right'].set_visible(False)\n    axis.spines['top'].set_visible(False)\n    axis.set(xlim=(x[0], x[-1]),\n             ylim=(-1, 5),\n             xticks=np.arange(-3, 4, 1),\n             yticks=np.arange(-1, 6, 1)\n             )\n    axis.set_xlabel('$x$', loc='right')\n\nax[0].set_title('Function $f(x)$')\nax[0].set_xlabel('$x$', loc='right')\nax[1].set_title('Tangent lines to $f(x)$')\n# ax[1].set_xlabel('$x$')\n\nax[2].plot(x, f_prime(x), label=r\"$f'(x) = 2x$\", color='black', lw=2)\nax[2].spines['left'].set_position('zero')\nax[2].spines['bottom'].set_position('zero')\nax[2].spines['right'].set_visible(False)\nax[2].spines['top'].set_visible(False)\nax[2].set(xlim=(x[0], x[-1]),\n            ylim=(-10, 10),\n            xticks=np.arange(-3, 4, 1),\n            yticks=np.arange(-10, 11, 5),\n            title=\"Derivative $p=df/dx$\"\n            )\nax[2].set_xlabel('$x$', loc='right')\n\np = np.linspace(-3, 3, 100)\nax[3].plot(p, f_inverse(p), label=r\"$g(p) = \\left(\\frac{p}{2}\\right)^2$\", color='xkcd:bright pink', lw=2)\nax[3].spines['left'].set_position('zero')\nax[3].spines['bottom'].set_position('zero')\nax[3].spines['right'].set_visible(False)\nax[3].spines['top'].set_visible(False)\nax[3].set(xlim=(p[0], p[-1]),\n            ylim=(-1, 5),\n            xticks=np.arange(-3, 4, 1),\n            yticks=np.arange(-1, 6, 1),\n            title=\"function $g(p)$\",\n            )\nax[3].set_xlabel('$p$', loc='right');\n\nax[0].text(0.03, 0.97, r\"a\", transform=ax[0].transAxes,\n         horizontalalignment='left', verticalalignment='top',\n         fontweight=\"bold\")\nax[1].text(0.03, 0.97, r\"b\", transform=ax[1].transAxes,\n         horizontalalignment='left', verticalalignment='top',\n         fontweight=\"bold\")\nax[2].text(0.03, 0.97, r\"c\", transform=ax[2].transAxes,\n         horizontalalignment='left', verticalalignment='top',\n         fontweight=\"bold\")\nax[3].text(0.03, 0.97, r\"d\", transform=ax[3].transAxes, \n         horizontalalignment='left', verticalalignment='top',\n         fontweight=\"bold\");\n\n\n\n\n\n\n\n\n\nDifferentiating \\(x^2\\) gives us a relation between \\(u\\) and \\(x\\):\n\\[\np(x) = 2x,\n\\]\nwhich can be seen in panel c.\nBecause this is a one-to-one relation, that is, for each \\(x\\) there is a unique \\(p\\) and vice versa, we can invert this relation to express \\(x\\) in terms of \\(p\\):\n\\[\nx(p) = \\frac{p}{2}\n\\]\nWe need now a function \\(g(p)\\). A first guess of what \\(g(p)\\) could be is:\n\\[\ng(p) = f(x(p)) = \\left(\\frac{p}{2}\\right)^2 = \\frac{p^2}{4}.\n\\]\nThis last function is plotted in panel d.\nAlas, our choice for the procedure \\(g(p) = f(x(p))\\) is not a good one. To see why, we can try doing the procedure again, this time on a right-shifted version of \\(f\\):\n\\[\nf_2(x) = (x - a)^2.\n\\]\nThe derivative of this new function defines \\(p\\):\n\\[\\begin{align*}\np &= \\frac{df_2}{dx} \\\\\n& = \\frac{d}{dx} (x - a)^2 \\\\\n& = 2(x-a).\n\\end{align*}\\]\nExpressing now \\(x\\) in terms of \\(p\\) gives\n\\[\nx(p) = \\frac{p}{2} + a.\n\\]\nFinally, we substitute \\(x(p)\\) back into \\(f_2\\) to get\n\\[\\begin{align*}\ng_2(p) &= f_2(x(p)) \\\\\n&= (x(p) - a)^2 \\\\\n&= \\left(\\frac{p}{2} + a - a\\right)^2 \\\\\n&= \\frac{p^2}{4}.\n\\end{align*}\\]\nThis is exactly the same function we had before shifting the original function! We completely lost the information that the parabola was shifted. See panel d below, it is identical to panel d in the previous example.\n\n\nplot\nfig, axx = plt.subplots(2, 2, figsize=(8,8))\n\nax = axx.flatten()\nx = np.linspace(-3, 3, 100)\n\nax[0].plot(x, f2(x), label='$f_2(x) = \\cosh(x - 1)$', color='tab:blue', lw=2)\n\nx0_values = np.arange(x[0], x[-1]+0.1, 0.1)\nfor x0 in x0_values:\n    ax[1].plot(x, tangent_line2(x, x0), color='gray', alpha=0.3, lw=0.5)\n\nfor axis in ax[[0,1]]:\n    axis.spines['left'].set_position('zero')\n    axis.spines['bottom'].set_position('zero')\n    axis.spines['right'].set_visible(False)\n    axis.spines['top'].set_visible(False)\n    axis.set(xlim=(x[0], x[-1]),\n             ylim=(-1, 5),\n             xticks=np.arange(-3, 4, 1),\n             yticks=np.arange(-1, 5, 1)\n             )\n    axis.set_xlabel('$x$', loc='right')\n\nax[0].set_title('Function $f(x)$')\nax[0].set_xlabel('$x$', loc='right')\nax[1].set_title('Tangent lines to $f_2(x)$')\n# ax[1].set_xlabel('$x$')\n\nax[2].plot(x, f_prime2(x), label=r\"$f'(x) = \\sinh(x-1)$\", color='black', lw=2)\nax[2].spines['left'].set_position('zero')\nax[2].spines['bottom'].set_position('zero')\nax[2].spines['right'].set_visible(False)\nax[2].spines['top'].set_visible(False)\nax[2].set(xlim=(x[0], x[-1]),\n            ylim=(-10, 10),\n            xticks=np.arange(-3, 4, 1),\n            yticks=np.arange(-10, 11, 5),\n            title=\"Derivative $p_2=df_2/dx$\"\n            )\nax[2].set_xlabel('$x$', loc='right')\n\np = np.linspace(-3, 3, 100)\nax[3].plot(p, f_inverse(p), label=r\"$f_2(x(p)) = \\cosh(\\sinh^{-1}(p))$\", color='xkcd:bright pink', lw=2)\nax[3].spines['left'].set_position('zero')\nax[3].spines['bottom'].set_position('zero')\nax[3].spines['right'].set_visible(False)\nax[3].spines['top'].set_visible(False)\nax[3].set(xlim=(p[0], p[-1]),\n            ylim=(-1, 5),\n            xticks=np.arange(-3, 4, 1),\n            yticks=np.arange(-1, 5, 1),\n            title=\"function $f_2(p_2)$\",\n            )\nax[3].set_xlabel('$p_2$', loc='right');\n\nax[0].text(0.03, 0.97, r\"a\", transform=ax[0].transAxes,\n         horizontalalignment='left', verticalalignment='top',\n         fontweight=\"bold\")\nax[1].text(0.03, 0.97, r\"b\", transform=ax[1].transAxes,\n         horizontalalignment='left', verticalalignment='top',\n         fontweight=\"bold\")\nax[2].text(0.03, 0.97, r\"c\", transform=ax[2].transAxes,\n         horizontalalignment='left', verticalalignment='top',\n         fontweight=\"bold\")\nax[3].text(0.03, 0.97, r\"d\", transform=ax[3].transAxes, \n         horizontalalignment='left', verticalalignment='top',\n         fontweight=\"bold\");\n\n\n\n\n\n\n\n\n\nJust for completeness, let‚Äôs go back from \\(g_2(p)\\) to \\(f_2(x)\\):\n\\[\\begin{align*}\nx &= \\frac{dg_2}{dp} \\\\\n&= \\frac{d}{dp} \\left(\\frac{p}{2}\\right)^2 \\\\\n&= \\frac{p}{2},\n\\end{align*}\\]\nAnd now:\n\\[\nf_2(x) = g_2(p(x)) = g_2(2x) = \\left(\\frac{2x}{2}\\right)^2 = x^2,\n\\]\nwhich is not the shifted parabola we started with."
  },
  {
    "objectID": "posts/2026-01-31-legendre-transformations/index.html#y-intercept-not-slope",
    "href": "posts/2026-01-31-legendre-transformations/index.html#y-intercept-not-slope",
    "title": "Legendre transformations visualized",
    "section": "y-intercept, not slope",
    "text": "y-intercept, not slope\nWe learned that using the slope \\(p = df/dx\\) to define a new function \\(g(p)=f(x(p))\\) does not work. Instead, let‚Äôs try using the y-intercept of the tangent line as our function \\(-g(p)\\). The negative sign here will be justified later. The general equation for the tangent line is\n\\[\ny = mx - g.\n\\]\n\n\nplot\nfig, ax = plt.subplots(figsize=(8,6))\n\nx = np.linspace(-2, 2, 100)\n\nax.plot(x, f(x), color='tab:blue', lw=2)\n\nax.plot(x, tangent_line(x, 1), color='black', lw=2)\nx1, x2 = 1, 2\ny1, y2 = tangent_line(x1, 1), tangent_line(x2, 1)\nax.plot([x1, x2], [y1, y1], color='xkcd:bright pink')\nax.plot([x2, x2], [y1, y2], color='xkcd:bright pink')\nax.plot([0,], [-1], ls='None', marker='o',\n        mec='xkcd:bright pink', mfc=\"None\", markersize=8, markeredgewidth=2)\nax.text(0.4, -1, r'$-g(p)$', va='top', ha='right', color='xkcd:bright pink')\nax.text(x1+(x2-x1)/2, f(x1), '1', va='bottom', ha='center', color='xkcd:bright pink')\nax.text(x2, y1 + (y2-y1)/2,\n        r'$p=\\dfrac{df}{dx}$', va='center', ha='left', color='xkcd:bright pink')\n\nax.spines['left'].set_position('zero')\nax.spines['bottom'].set_position('zero')\nax.spines['right'].set_visible(False)\nax.spines['top'].set_visible(False)\nax.set(xlim=(x[0], x[-1]),\n            ylim=(-2, 3),\n            xticks=np.arange(-3, 4, 1),\n            yticks=np.arange(-1, 4, 1),\n            title=r\"$g(p)$ as the negative y-intercept of the tangent line\"\n            )\nax.set_xlabel('$x$', loc='right');\n\n\n\n\n\n\n\n\n\nThe slope \\(m\\) was already defined as \\(p = f'(x)\\), so we have\n\\[\ny = px - g.\n\\]\nThe tangent line evaluated at \\(x_0\\) touches the function at \\(f(x_0)\\), so we can use that to find \\(g\\):\n\\[\\begin{align*}\nf(x_0) &= px_0 - g \\\\\ng &= px_0 - f(x_0).\n\\end{align*}\\]\nFor a tangent line at a generic point \\(x\\), we have that the intercept is\n\n\\[\ng(p) = p\\cdot x - f(x).\n\\]\n\nLet‚Äôs use the formula above to compute \\(g(p)\\) for our shifted parabola \\(f(x) = (x-a)^2\\).\n\\[\\begin{align*}\np &= \\frac{df}{dx} \\\\\n&= \\frac{d}{dx} (x-a)^2 \\\\\n&= 2(x-a),\n\\end{align*}\\]\nwhich we can invert to get \\[\nx(p) = \\frac{p}{2} + a.\n\\]\nSubstituting into the formula for \\(g(p)\\) gives\n\\[\\begin{align*}\ng(p) &= p \\cdot x(p) - f(x(p)) \\\\\n&= p \\cdot \\left(\\frac{p}{2} + a\\right) - \\left(\\frac{p}{2} + a - a\\right)^2 \\\\\n&= p \\cdot \\left(\\frac{p}{2} + a\\right) - \\left(\\frac{p}{2}\\right)^2 \\\\\n&= \\frac{p^2}{2} + pa - \\frac{p^2}{4} \\\\\n&= \\frac{p^2}{4} + pa.\n\\end{align*}\\]\nThis function is different from the one we obtained before, and it contains the information about the shift \\(a\\). Now let‚Äôs try going back from \\(g(p)\\) to \\(f(x)\\).\n\\[\\begin{align*}\nx &= \\frac{dg}{dp} \\\\\n&= \\frac{d}{dp} \\left(\\frac{p^2}{4} + pa\\right) \\\\\n&= \\frac{p}{2} + a,\n\\end{align*}\\]\nSolving for \\(p\\) gives \\(p = 2(x - a)\\).\nAnd now: \\[\\begin{align*}\nf(x) &= p\\cdot x - g(p(x)) \\\\\n&= 2(x - a) \\cdot x - \\left(\\frac{(2(x - a))^2}{4} + 2(x - a)a\\right) \\\\\n&= 2(x - a) \\cdot x - \\left((x - a)^2 + 2a(x - a)\\right) \\\\\n&= 2(x - a) \\cdot x - (x - a)^2 - 2a(x - a) \\\\\n&= (x - a)^2.\n\\end{align*}\\]\nSuccess! As a prize, go play with the widget below.\n\n\n\nShow the code\nviewof x0 = Inputs.range([0, 3], {\n  step: 0.1, \n  value: 2.5,\n  width: 250\n})\n\n// 2. Create a centered row using a template literal\n// This puts \"Slope p\" right next to the number box\nhtml`&lt;div style=\"display: flex; align-items: center; gap: 10px; font-weight: bold; font-family: sans-serif; margin-bottom: 15px;\"&gt;\n  &lt;span&gt;x‚ÇÄ&lt;/span&gt; ${viewof x0}\n&lt;/div&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nShow the code\nu = 2 * x0\ng = u * x0 - (x0 ** 2)\n\n// 3. Define the plot\nPlot.plot({\n  grid: true,\n  marginLeft: 60,\n  marginBottom: 60,\n  width: 600, \n  style: { fontSize: 14 },\n  x: { domain: [0, 3], label: \"x ‚Üí\", labelOffset: 45 },\n  y: { domain: [-8, 8], label: \"‚Üë y\", labelOffset: 50 },\n  marks: [\n    Plot.axisX({fontSize: 20, fontWeight: \"bold\"}),\n    Plot.axisY({fontSize: 20, fontWeight: \"bold\"}),\n\n    // Parabola\n    Plot.line(d3.range(0, 3.1, 0.1), {\n      x: d =&gt; d,\n      y: d =&gt; d ** 2,\n      stroke: \"black\",\n      strokeWidth: 4\n    }),\n    \n    // Blue line\n    Plot.link([null], {\n      x1: 0, y1: -g,\n      x2: 3, y2: 3*u - g,\n      stroke: blue_color, strokeWidth: 5\n    }),\n\n    // Red vertical segment\n    Plot.link([null], {\n      x1: 0, y1: 0,\n      x2: 0, y2: -g,\n      stroke: red_color, strokeWidth: 5\n    }),\n\n    // black dashed vertical segment\n    Plot.link([null], {\n      x1: x0, y1: 0,\n      x2: x0, y2: x0 ** 2,\n      stroke: \"black\", strokeWidth: 2, strokeDasharray: \"4 4\"\n    }),\n\n    Plot.dot([null], {\n      x: x0, \n      y: x0 ** 2, \n      r: 8,            // Radius of the dot\n      fill: red_color,   // Color of the dot\n      stroke: \"white\", // Optional: adds an outline to make it pop\n      strokeWidth: 2\n    }),\n\n    Plot.ruleY([0], {\n      stroke: \"#aaa\",    // A light gray color\n      strokeWidth: 2,    // Makes it \"thin\"\n      strokeOpacity: 0.5 // Makes it subtle\n    }),\n\n    // TEXT LABELS\n    Plot.text([null], {\n      x: 2.7, y: 8, \n      text: [\"f(x)\"], \n      fontSize: 20, fontWeight: \"bold\", dy: -10 \n    }),\n\n    Plot.text([null], {\n      x: 0, y: -g/2, \n      text: [\"g(x‚ÇÄ)\"], \n      fontSize: 16, fontWeight: \"bold\", dx: 30, fill: red_color, \n    }),\n\n    Plot.text([null], {\n      x: x0, y: 0, \n      text: [\"x‚ÇÄ\"], \n      fontSize: 16, fontWeight: \"bold\", dx: 0, dy: 10, fill: \"black\", \n    }),\n\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nduality relationship\nThe Legendre transformation takes advantage of the fact that we can represent a function in two ways. The first is the usual way, \\(y=f(x)\\), where the function is defined by the set of points \\((x, f(x))\\). The second is through the family of tangent lines to the function, where the function is defined by the set of tangent slopes \\(p\\) and their negative-y-intercept \\(g(p)\\).\nIf we hadn‚Äôt defined \\(g(p)\\) as the negative y-intercept, the formula for the Legendre transform would be:\n\\[\ng(p) = f(x) - p\\cdot x.\n\\]\nThere is nothing wrong with that. Actually, that‚Äôs exactly the way it is defined in the context of Thermodynamics. This choice has the effect that if the function \\(f\\) is convex, then \\(g\\) will be concave. In classical mechanics, however, the relationship between the Lagrangian and Hamiltonian formulations uses the negative y-intercept definition, where convex functions map to convex functions.\n\n\nShow the code\nfig, ax = plt.subplots(2, 2, figsize=(8,5))\nfig.subplots_adjust(left=0.10, right=0.90, top=0.95, bottom=0.10,\n          hspace=0.20, wspace=0.60)\n\nx = np.linspace(-2, 2, 100)\nax[0, 0].plot(x, x**2, label='$f(x) = x^2$', color='tab:blue', lw=2)\nax[1, 0].plot(x, x**2, label='$f(x) = x^2$', color='tab:blue', lw=2)\n\np = np.linspace(-3, 3, 100)\nax[0, 1].plot(p, p**2 / 4, label='$g(p) = (p/2)^2$', color='xkcd:bright pink', lw=2)\nax[1, 1].plot(p, -p**2 / 4, label='$-g(p) = -(p/2)^2$', color='xkcd:bright pink', lw=2)\n\nfor axis in ax.flatten():\n    axis.set(xticks=[],\n             yticks=[],\n             )\n    axis.set_box_aspect(1)\n\n\nfig.text(0.50, 0.75, \"maintains convexity\", transform=fig.transFigure,\n         ha='center', va='center', color=\"black\",)\nfig.text(0.50, 0.65, r\"$g(p)=px-f(x)$\"+\"\\n\"+r\"$p=f'(x)$\", ha=\"center\", va=\"center\",\n            size=12,\n            bbox=dict(boxstyle=\"rarrow,pad=0.3\", fc=3*[0.85], ec=\"black\", lw=1))\nfig.text(0.50, 0.85, r\"$f(x)=px-g(p)$\"+\"\\n\"+r\"$x=g'(p)$\", ha=\"center\", va=\"center\",\n            size=12,\n            bbox=dict(boxstyle=\"larrow,pad=0.3\", fc=3*[0.85], ec=\"black\", lw=1))\n\n\nfig.text(0.50, 0.30, \"flips convexity\", transform=fig.transFigure,\n         ha='center', va='center', color=\"black\",)\nfig.text(0.50, 0.20, r\"$g(p)=f(x)-px$\"+\"\\n\"+r\"$p=f'(x)$\", ha=\"center\", va=\"center\",\n            size=12,\n            bbox=dict(boxstyle=\"rarrow,pad=0.3\", fc=3*[0.85], ec=\"black\", lw=1))\nfig.text(0.50, 0.40, r\"$f(x)=g(p)+px$\"+\"\\n\"+r\"$x=-g'(p)$\", ha=\"center\", va=\"center\",\n            size=12,\n            bbox=dict(boxstyle=\"larrow,pad=0.3\", fc=3*[0.85], ec=\"black\", lw=1))\n\nax[0,0].set_title(\"Original function $f(x)$\", y=0.8)\nax[0,1].set_title(\"Legendre transform\\n(Classical Mechanics)\", y=0.8)\nax[1,0].set_title(\"Original function $f(x)$\", y=0.8)\nax[1,1].set_title(\"Legendre transform\\n(Thermodynamics)\", y=0.8)\nax[1,0].set_xlabel(\"$x$\")\nax[1,1].set_xlabel(\"$p$\");\n\n\n\n\n\n\n\n\n\nThe figure above summarizes all the procedures of the Legendre transformation in both conventions. See how the top convention is totally symmetric: if you replace \\(f\\) and \\(x\\) for \\(g\\) and \\(p\\), the equations remain the same. The bottom convention has two horrendous minus signs that break the symmetry. I really find it ugly and non intuitive. From now on let‚Äôs keep using the top convention.\nThe best way to remember the Legendre transformation is this:\n\\[\nf(x) + g(p) = p \\cdot x.\n\\]\nAs it is written, we can‚Äôt still interpret it. If we want the ‚Äúforward‚Äù Legendre transform, we solve for \\(g\\) and get \\(g(p)=p\\cdot x - f(x)\\), while for the ‚Äúinverse‚Äù Legendre transform we solve for \\(f\\) and get \\(f(x)=p\\cdot x - g(p)\\). As for the variables, there is not much to remember, each variable is defined as the derivative of the other function with respect to its variable: \\(p=f'(x)\\) and \\(x=g'(p)\\). Just simple and beautiful.\nThe equation above will the basis of a wonderful geometric intepretation of the Legendre transformation, which we shall see next.\n\n\nShow the code\nfig, ax = plt.subplots(figsize=(6,4))\nplt.text(0.2, 0.5, r\"$f(x)$\",\n         size=20, rotation=0,\n         ha=\"center\", va=\"center\",\n         bbox=dict(boxstyle=\"round\",\n                   ec=\"black\",\n                   fc=[0.85]*3,\n                   )\n         )\n\nplt.text(0.8, 0.5, r\"$g(u)$\",\n         size=20, rotation=0,\n         ha=\"center\", va=\"center\",\n         bbox=dict(boxstyle=\"round\",\n                   ec=\"black\",\n                   fc=[0.85]*3,\n                   )\n         )\n\nax.annotate(\"\",\n            xy=(0.8, 0.5), xycoords='data',\n            xytext=(0.2, 0.5), textcoords='data',\n            arrowprops=dict(arrowstyle=\"-&gt;\",\n                            connectionstyle=\"arc3,rad=-0.6\",\n                            color=\"black\",\n                            shrinkA=30, shrinkB=30,\n                            lw=3,\n                            mutation_scale=30)\n            )\nax.annotate(\"\",\n            xy=(0.2, 0.5), xycoords='data',\n            xytext=(0.8, 0.5), textcoords='data',\n            arrowprops=dict(arrowstyle=\"-&gt;\",\n                            connectionstyle=\"arc3,rad=-0.6\",\n                            color=\"black\",\n                            shrinkA=30, shrinkB=30,\n                            lw=3,\n                            mutation_scale=30)\n            )\nax.text(0.5, 0.8, r\"$u=\\dfrac{df}{dx}$\"+\"\\n\"+r\"$g(u) = ux - f(x)$\",\n        ha=\"center\")\nax.text(0.5, 0.2, r\"$x=\\dfrac{dg}{du}$\"+\"\\n\"+r\"$f(x) = ux - g(u)$\",\n        ha=\"center\", va=\"top\")\nax.axis('off');\n\n\n\n\n\n\n\n\n\n\n\nderivation according to V.I. Arnold\nWe will follow now V.I. Arnold‚Äôs arguments from his book Mathematical Methods of Classical Mechanics, 2nd edition, pages 61 to 64.\nThe geometric intution is great, but the text is nothing but obtuse, in my opinion. I‚Äôll put here Arnold‚Äôs text and comment on it, with words, images and interactive widgets.\n\nLegendre transformations\nThe Legendre transformation is a very useful mathematical tool: it transforms functions on a vector space to functions on the dual space. Legendre transformations are related to projective duality and tangential coordinates in algebraic geometry and the construction of dual Banach spaces in analysis. They are often encountered in physics (for example, in the definition of thermodynamic quantities).\n\nGreat. I have no idea what a Banach space is. Nervermind. Let‚Äôs continue.\n\nDefinition\nLet \\(y=f(x)\\) be a convex function, \\(f''(x)&gt;0\\).\nThe Legendre transformation of the function \\(f\\) is a new function \\(g\\) of a new variable \\(p\\), which is constructed in the following way (Figure 43). We draw the graph of \\(f\\) in the \\(x,y\\) plane. Let \\(p\\) be a given number. Consider the straight line \\(y=px\\). We take the point \\(x=x(p)\\) at which the curve is farthest from the straight line in the vertical direction: for each \\(p\\) the function \\(px-f(x)=F(p,x)\\) has a maximum with respect to \\(x\\) at the point \\(x(p)\\). Now we define \\(g(p)=F(p,x(p))\\).\nThe point \\(x(p)\\) is defined by the extremal condition \\(\\partial F/\\partial x=0\\), i.e., \\(f'(x)=p\\). Since \\(f\\) is convex, the point \\(x(p)\\) is unique.\n\n\nThat‚Äôs super interesting! Arnold doesn‚Äôt start like we did, defining that \\(p\\) is the slope of the tangent line. He starts from a straight line that passes through the origin, \\(y=px\\), and looks for the point that maximizes the vertical distance between the function and the line. Since our function is convex, such a point must exist and be unique. In the widget we saw before, we varied \\(x_0\\) and got to see how the negative y-intercept \\(g(p)\\) changed. Arnold inverts this logic: he varies \\(p\\) and looks for the point \\(x(p)\\) that maximizes the vertical distance. See this in action:\n\n\n\nShow the code\nblue_color = \"#0343df\"\nred_color = \"#e50000\"\nlight_blue_color = \"#95d0fc\"\n// 1. Define the slider without a label to keep it tight\nviewof p = Inputs.range([0, 4], {\n  step: 0.1, \n  value: 2.5,\n  width: 250\n})\n\n// 2. Create a centered row using a template literal\n// This puts \"Slope p\" right next to the number box\nhtml`&lt;div style=\"display: flex; align-items: center; gap: 10px; font-weight: bold; font-family: sans-serif; margin-bottom: 15px;\"&gt;\n  &lt;span&gt;Slope p&lt;/span&gt; ${viewof p}\n&lt;/div&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nShow the code\nxo = p / 2\n\n// 3. Define the plot\nPlot.plot({\n  grid: true,\n  marginLeft: 60,\n  marginBottom: 60,\n  width: 600, \n  style: { fontSize: 14 },\n  x: { domain: [0, 3], label: \"x ‚Üí\", labelOffset: 45 },\n  y: { domain: [-4, 8], label: \"‚Üë y\", labelOffset: 50 },\n  marks: [\n    Plot.axisX({fontSize: 20, fontWeight: \"bold\"}),\n    Plot.axisY({fontSize: 20, fontWeight: \"bold\"}),\n\n    // Parabola\n    Plot.line(d3.range(0, 3.1, 0.1), {\n      x: d =&gt; d,\n      y: d =&gt; d ** 2,\n      stroke: \"black\",\n      strokeWidth: 4\n    }),\n    \n    // Blue line\n    Plot.line(d3.range(0, 3.1, 0.1), {\n      x: d =&gt; d,\n      y: d =&gt; p * d,\n      stroke: blue_color,\n      strokeWidth: 4\n    }),\n\n    // LIGHT Blue line\n    Plot.link([null], {\n      x1: 0, y1: -p * p / 4,\n      x2: 3, y2: p*3 -p * p / 4,\n      stroke: light_blue_color, strokeWidth: 2,\n    }),\n\n    // Red vertical segment\n    Plot.link([null], {\n      x1: p / 2, y1: (p ** 2) / 2,\n      x2: p / 2, y2: (p ** 2) / 4,\n      stroke: red_color, strokeWidth: 5\n    }),\n\n    // The gray thick straight line (Vertical segment)\n    Plot.link([null], {\n      x1: p / 2, y1: 0,\n      x2: p / 2, y2: (p ** 2) / 4,\n      stroke: \"gray\", strokeWidth: 5\n    }),\n\n    Plot.ruleY([0], {\n      stroke: \"#aaa\",    // A light gray color\n      strokeWidth: 2,    // Makes it \"thin\"\n      strokeOpacity: 0.5 // Makes it subtle\n    }),\n\n    // TEXT LABELS\n    Plot.text([null], {\n      x: 2.7, y: 8, \n      text: [\"f(x)\"], \n      fontSize: 20, fontWeight: \"bold\", dy: -10 \n    }),\n\n    Plot.text([null], {\n      x: 2, y: 2 * p, \n      text: [\"px\"], \n      fontSize: 20, fill: blue_color, textAnchor: \"start\", dx: 0, dy: 10 \n    }),\n\n    Plot.text([null], {\n      x: p / 2, y: (p ** 2) * 3 / 8, \n      text: [\"g(p)\"], \n      fontSize: 15, fill: red_color, fontWeight: \"bold\", dy: 0, dx: 20 \n    }),\n\n    Plot.text([null], {\n      x: p / 2, y: (p ** 2) * 1 / 8, \n      text: [\"f(x)\"], \n      fontSize: 15, fill: \"black\", fontWeight: \"bold\", dy: 0, dx: 20 \n    }),\n\n    Plot.text([null], {\n      x: p / 2, y: 0, \n      text: [\"x(p)\"], \n      fontSize: 16, fontWeight: \"bold\", dx: 0, dy: 10, fill: \"black\", \n    }),\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe find that the derivative has something to do with this procedure only when we go about finding the maximum distance. Arnold calls the vertical distance between the line \\(px\\) in blue and the function \\(f(x)\\) in black as \\(F(p,x) = px - f(x)\\). To find the maximum distance, we set the derivative of \\(F\\) with respect to \\(x\\) to zero:\n\\[\\begin{align*}\n\\frac{\\partial F}{\\partial x} = p - f'(x) &= 0\\\\\np &= f'(x).\n\\end{align*}\\]\nOnly at this stage in the argument we find that \\(p\\) is the derivative of \\(f\\) at the point \\(x(p)\\)! I added a light blue line to connect this argument with the previous widget. The light blue line is \\(px\\) shifted down by \\(g(p)\\), so its y-intercept is exactly \\(-g(p)\\).\nOne more thing. If we sum the vertical height given by \\(f(x)\\) (gray) and the vertical height given by \\(g(p)\\) (red), we get exactly the vertical height of the blue line \\(px\\), that is, the symmetric equation from before:\n\\[\nf(x) + g(p) = p \\cdot x.\n\\]\nLet‚Äôs keep going with Arnold‚Äôs text.\n\nInvolutivity\nLet us consider a function \\(f\\) which is differentiable as many times as necessary, with \\(f''(x) &gt; 0\\). It is easy to verify that a Legendre transformation takes convex functions to convex functions. Therefore, we can apply it twice.\n\nIndeed, we already verified that this definition of the Legendre transformation maintains convexity for a specific function.\n\nTheorem. The Legendre transformation is involutive, i.e., its square is the identity: if under the Legendre transformation \\(f\\) is taken to \\(g\\), then the Legendre transform of \\(g\\) will again be \\(f\\).\n\nI don‚Äôt love Arnold‚Äôs prose, but this is great.\n\nProof. In order to apply the Legendre transform to \\(g\\), with variable \\(p\\), we must by definition look at a new independent variable (which we will call \\(x\\)), construct the function \\[\nG(x, p) = xp - g(p),\n\\] and find the point \\(p(x)\\) at which \\(G\\) attains its maximum: \\(\\partial G/\\partial p = 0\\), i.e., \\(g'(p) = x\\). Then the Legendre transform of \\(g(p)\\) will be the function of \\(x\\) equal to \\(G(x, p(x))\\).\nWe will show that \\(G(x, p(x)) = f(x)\\). To this end we notice that \\(G(x, p) = xp - q(p)\\) has a simple geometric interpretation: it is the ordinate of the point with abscissa \\(x\\) on the line tangent to the graph of \\(f(x)\\) with slope \\(p\\) (Figure 45). For fixed \\(p\\), the function \\(G(x, p)\\) is a linear function of \\(x\\), with \\(\\partial G/\\partial x = p\\), and for \\(x = x(p)\\) we have \\(G(x, p) = xp - g(p) = f(x)\\) by the definition of \\(g(p)\\).\nLet us now fix \\(x = x_0\\) and vary \\(p\\). Then the values of \\(G(x,p)\\) will be the ordinates of the points of intersection of the line \\(x=x_0\\) with the line tangen to the graph of \\(f(x)\\) with various slopes \\(p\\). By the convexity of the graph it follows that all these tangents lie below the curve, and therefore the maximum of \\(G(x,p)\\) for a fixed \\(x(p_0)\\) is equal to \\(f(x)\\) (and is achieed for \\(p=p(x_0)=f'(x_0)\\))."
  },
  {
    "objectID": "posts/2026-01-31-legendre-transformations/index.html#duality-relationship",
    "href": "posts/2026-01-31-legendre-transformations/index.html#duality-relationship",
    "title": "Legendre transformations visualized",
    "section": "duality relationship",
    "text": "duality relationship\nThe Legendre transformation takes advantage of the fact that we can represent a function in two ways. The first is the usual way, \\(y=f(x)\\), where the function is defined by the set of points \\((x, f(x))\\). The second is through the family of tangent lines to the function, where the function is defined by the set of tangent slopes \\(p\\) and their negative-y-intercept \\(g(p)\\).\nIf we hadn‚Äôt defined \\(g(p)\\) as the negative y-intercept, the formula for the Legendre transform would be:\n\\[\ng(p) = f(x) - p\\cdot x.\n\\]\nThere is nothing wrong with that. Actually, that‚Äôs exactly the way it is defined in the context of Thermodynamics. This choice has the effect that if the function \\(f\\) is convex, then \\(g\\) will be concave. In classical mechanics, however, the relationship between the Lagrangian and Hamiltonian formulations uses the negative y-intercept definition, where convex functions map to convex functions.\n\n\nShow the code\nfig, ax = plt.subplots(2, 2, figsize=(8,5))\nfig.subplots_adjust(left=0.10, right=0.90, top=0.95, bottom=0.10,\n          hspace=0.20, wspace=0.60)\n\nx = np.linspace(-2, 2, 100)\nax[0, 0].plot(x, x**2, label='$f(x) = x^2$', color='tab:blue', lw=2)\nax[1, 0].plot(x, x**2, label='$f(x) = x^2$', color='tab:blue', lw=2)\n\np = np.linspace(-3, 3, 100)\nax[0, 1].plot(p, p**2 / 4, label='$g(p) = (p/2)^2$', color='xkcd:bright pink', lw=2)\nax[1, 1].plot(p, -p**2 / 4, label='$-g(p) = -(p/2)^2$', color='xkcd:bright pink', lw=2)\n\nfor axis in ax.flatten():\n    axis.set(xticks=[],\n             yticks=[],\n             )\n    axis.set_box_aspect(1)\n\n\nfig.text(0.50, 0.75, \"maintains convexity\", transform=fig.transFigure,\n         ha='center', va='center', color=\"black\",)\nfig.text(0.50, 0.65, r\"$g(p)=px-f(x)$\"+\"\\n\"+r\"$p=f'(x)$\", ha=\"center\", va=\"center\",\n            size=12,\n            bbox=dict(boxstyle=\"rarrow,pad=0.3\", fc=3*[0.85], ec=\"black\", lw=1))\nfig.text(0.50, 0.85, r\"$f(x)=px-g(p)$\"+\"\\n\"+r\"$x=g'(p)$\", ha=\"center\", va=\"center\",\n            size=12,\n            bbox=dict(boxstyle=\"larrow,pad=0.3\", fc=3*[0.85], ec=\"black\", lw=1))\n\n\nfig.text(0.50, 0.30, \"flips convexity\", transform=fig.transFigure,\n         ha='center', va='center', color=\"black\",)\nfig.text(0.50, 0.20, r\"$g(p)=f(x)-px$\"+\"\\n\"+r\"$p=f'(x)$\", ha=\"center\", va=\"center\",\n            size=12,\n            bbox=dict(boxstyle=\"rarrow,pad=0.3\", fc=3*[0.85], ec=\"black\", lw=1))\nfig.text(0.50, 0.40, r\"$f(x)=g(p)+px$\"+\"\\n\"+r\"$x=-g'(p)$\", ha=\"center\", va=\"center\",\n            size=12,\n            bbox=dict(boxstyle=\"larrow,pad=0.3\", fc=3*[0.85], ec=\"black\", lw=1))\n\nax[0,0].set_title(\"Original function $f(x)$\", y=0.8)\nax[0,1].set_title(\"Legendre transform\\n(Classical Mechanics)\", y=0.8)\nax[1,0].set_title(\"Original function $f(x)$\", y=0.8)\nax[1,1].set_title(\"Legendre transform\\n(Thermodynamics)\", y=0.8)\nax[1,0].set_xlabel(\"$x$\")\nax[1,1].set_xlabel(\"$p$\");\n\n\n\n\n\n\n\n\n\nThe figure above summarizes all the procedures of the Legendre transformation in both conventions. See how the top convention is totally symmetric: if you replace \\(f\\) and \\(x\\) for \\(g\\) and \\(p\\), the equations remain the same. The bottom convention has two horrendous minus signs that break the symmetry. I really find it ugly and non intuitive. From now on let‚Äôs keep using the top convention.\nThe best way to remember the Legendre transformation is this:\n\\[\nf(x) + g(p) = p \\cdot x.\n\\]\nAs it is written, we can‚Äôt still interpret it. If we want the ‚Äúforward‚Äù Legendre transform, we solve for \\(g\\) and get \\(g(p)=p\\cdot x - f(x)\\), while for the ‚Äúinverse‚Äù Legendre transform we solve for \\(f\\) and get \\(f(x)=p\\cdot x - g(p)\\). As for the variables, there is not much to remember, each variable is defined as the derivative of the other function with respect to its variable: \\(p=f'(x)\\) and \\(x=g'(p)\\). Just simple and beautiful.\nThe equation above will the basis of a wonderful geometric intepretation of the Legendre transformation, which we shall see next.\n\n\nShow the code\nfig, ax = plt.subplots(figsize=(6,4))\nplt.text(0.2, 0.5, r\"$f(x)$\",\n         size=20, rotation=0,\n         ha=\"center\", va=\"center\",\n         bbox=dict(boxstyle=\"round\",\n                   ec=\"black\",\n                   fc=[0.85]*3,\n                   )\n         )\n\nplt.text(0.8, 0.5, r\"$g(u)$\",\n         size=20, rotation=0,\n         ha=\"center\", va=\"center\",\n         bbox=dict(boxstyle=\"round\",\n                   ec=\"black\",\n                   fc=[0.85]*3,\n                   )\n         )\n\nax.annotate(\"\",\n            xy=(0.8, 0.5), xycoords='data',\n            xytext=(0.2, 0.5), textcoords='data',\n            arrowprops=dict(arrowstyle=\"-&gt;\",\n                            connectionstyle=\"arc3,rad=-0.6\",\n                            color=\"black\",\n                            shrinkA=30, shrinkB=30,\n                            lw=3,\n                            mutation_scale=30)\n            )\nax.annotate(\"\",\n            xy=(0.2, 0.5), xycoords='data',\n            xytext=(0.8, 0.5), textcoords='data',\n            arrowprops=dict(arrowstyle=\"-&gt;\",\n                            connectionstyle=\"arc3,rad=-0.6\",\n                            color=\"black\",\n                            shrinkA=30, shrinkB=30,\n                            lw=3,\n                            mutation_scale=30)\n            )\nax.text(0.5, 0.8, r\"$u=\\dfrac{df}{dx}$\"+\"\\n\"+r\"$g(u) = ux - f(x)$\",\n        ha=\"center\")\nax.text(0.5, 0.2, r\"$x=\\dfrac{dg}{du}$\"+\"\\n\"+r\"$f(x) = ux - g(u)$\",\n        ha=\"center\", va=\"top\")\nax.axis('off');"
  },
  {
    "objectID": "posts/2026-01-31-legendre-transformations/index.html#derivation-according-to-v.i.-arnold",
    "href": "posts/2026-01-31-legendre-transformations/index.html#derivation-according-to-v.i.-arnold",
    "title": "Legendre transformations visualized",
    "section": "derivation according to V.I. Arnold",
    "text": "derivation according to V.I. Arnold\nWe will follow now V.I. Arnold‚Äôs arguments from his book Mathematical Methods of Classical Mechanics, 2nd edition, pages 61 to 64.\nThe geometric intution is great, but the text is nothing but obtuse, in my opinion. I‚Äôll put here Arnold‚Äôs text and comment on it, with words, images and interactive widgets.\n\nLegendre transformations\nThe Legendre transformation is a very useful mathematical tool: it transforms functions on a vector space to functions on the dual space. Legendre transformations are related to projective duality and tangential coordinates in algebraic geometry and the construction of dual Banach spaces in analysis. They are often encountered in physics (for example, in the definition of thermodynamic quantities).\n\nGreat. I have no idea what a Banach space is. Nervermind. Let‚Äôs continue.\n\nDefinition\nLet \\(y=f(x)\\) be a convex function, \\(f''(x)&gt;0\\).\nThe Legendre transformation of the function \\(f\\) is a new function \\(g\\) of a new variable \\(p\\), which is constructed in the following way (Figure 43). We draw the graph of \\(f\\) in the \\(x,y\\) plane. Let \\(p\\) be a given number. Consider the straight line \\(y=px\\). We take the point \\(x=x(p)\\) at which the curve is farthest from the straight line in the vertical direction: for each \\(p\\) the function \\(px-f(x)=F(p,x)\\) has a maximum with respect to \\(x\\) at the point \\(x(p)\\). Now we define \\(g(p)=F(p,x(p))\\).\nThe point \\(x(p)\\) is defined by the extremal condition \\(\\partial F/\\partial x=0\\), i.e., \\(f'(x)=p\\). Since \\(f\\) is convex, the point \\(x(p)\\) is unique.\n\n\nThat‚Äôs super interesting! Arnold doesn‚Äôt start like we did, defining that \\(p\\) is the slope of the tangent line. He starts from a straight line that passes through the origin, \\(y=px\\), and looks for the point that maximizes the vertical distance between the function and the line. Since our function is convex, such a point must exist and be unique. In the widget we saw before, we varied \\(x_0\\) and got to see how the negative y-intercept \\(g(p)\\) changed. Arnold inverts this logic: he varies \\(p\\) and looks for the point \\(x(p)\\) that maximizes the vertical distance. See this in action:\n\n\n\nShow the code\nblue_color = \"#0343df\"\nred_color = \"#e50000\"\nlight_blue_color = \"#95d0fc\"\n// 1. Define the slider without a label to keep it tight\nviewof p = Inputs.range([0, 4], {\n  step: 0.1, \n  value: 2.5,\n  width: 250\n})\n\n// 2. Create a centered row using a template literal\n// This puts \"Slope p\" right next to the number box\nhtml`&lt;div style=\"display: flex; align-items: center; gap: 10px; font-weight: bold; font-family: sans-serif; margin-bottom: 15px;\"&gt;\n  &lt;span&gt;Slope p&lt;/span&gt; ${viewof p}\n&lt;/div&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nShow the code\nxo = p / 2\n\n// 3. Define the plot\nPlot.plot({\n  grid: true,\n  marginLeft: 60,\n  marginBottom: 60,\n  width: 600, \n  style: { fontSize: 14 },\n  x: { domain: [0, 3], label: \"x ‚Üí\", labelOffset: 45 },\n  y: { domain: [-4, 8], label: \"‚Üë y\", labelOffset: 50 },\n  marks: [\n    Plot.axisX({fontSize: 20, fontWeight: \"bold\"}),\n    Plot.axisY({fontSize: 20, fontWeight: \"bold\"}),\n\n    // Parabola\n    Plot.line(d3.range(0, 3.1, 0.1), {\n      x: d =&gt; d,\n      y: d =&gt; d ** 2,\n      stroke: \"black\",\n      strokeWidth: 4\n    }),\n    \n    // Blue line\n    Plot.line(d3.range(0, 3.1, 0.1), {\n      x: d =&gt; d,\n      y: d =&gt; p * d,\n      stroke: blue_color,\n      strokeWidth: 4\n    }),\n\n    // LIGHT Blue line\n    Plot.link([null], {\n      x1: 0, y1: -p * p / 4,\n      x2: 3, y2: p*3 -p * p / 4,\n      stroke: light_blue_color, strokeWidth: 2,\n    }),\n\n    // Red vertical segment\n    Plot.link([null], {\n      x1: p / 2, y1: (p ** 2) / 2,\n      x2: p / 2, y2: (p ** 2) / 4,\n      stroke: red_color, strokeWidth: 5\n    }),\n\n    // The gray thick straight line (Vertical segment)\n    Plot.link([null], {\n      x1: p / 2, y1: 0,\n      x2: p / 2, y2: (p ** 2) / 4,\n      stroke: \"gray\", strokeWidth: 5\n    }),\n\n    Plot.ruleY([0], {\n      stroke: \"#aaa\",    // A light gray color\n      strokeWidth: 2,    // Makes it \"thin\"\n      strokeOpacity: 0.5 // Makes it subtle\n    }),\n\n    // TEXT LABELS\n    Plot.text([null], {\n      x: 2.7, y: 8, \n      text: [\"f(x)\"], \n      fontSize: 20, fontWeight: \"bold\", dy: -10 \n    }),\n\n    Plot.text([null], {\n      x: 2, y: 2 * p, \n      text: [\"px\"], \n      fontSize: 20, fill: blue_color, textAnchor: \"start\", dx: 0, dy: 10 \n    }),\n\n    Plot.text([null], {\n      x: p / 2, y: (p ** 2) * 3 / 8, \n      text: [\"g(p)\"], \n      fontSize: 15, fill: red_color, fontWeight: \"bold\", dy: 0, dx: 20 \n    }),\n\n    Plot.text([null], {\n      x: p / 2, y: (p ** 2) * 1 / 8, \n      text: [\"f(x)\"], \n      fontSize: 15, fill: \"black\", fontWeight: \"bold\", dy: 0, dx: 20 \n    }),\n\n    Plot.text([null], {\n      x: p / 2, y: 0, \n      text: [\"x(p)\"], \n      fontSize: 16, fontWeight: \"bold\", dx: 0, dy: 10, fill: \"black\", \n    }),\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nWe find that the derivative has something to do with this procedure only when we go about finding the maximum distance. Arnold calls the vertical distance between the line \\(px\\) in blue and the function \\(f(x)\\) in black as \\(F(p,x) = px - f(x)\\). To find the maximum distance, we set the derivative of \\(F\\) with respect to \\(x\\) to zero:\n\\[\\begin{align*}\n\\frac{\\partial F}{\\partial x} = p - f'(x) &= 0\\\\\np &= f'(x).\n\\end{align*}\\]\nOnly at this stage in the argument we find that \\(p\\) is the derivative of \\(f\\) at the point \\(x(p)\\)! I added a light blue line to connect this argument with the previous widget. The light blue line is \\(px\\) shifted down by \\(g(p)\\), so its y-intercept is exactly \\(-g(p)\\).\nOne more thing. If we sum the vertical height given by \\(f(x)\\) (gray) and the vertical height given by \\(g(p)\\) (red), we get exactly the vertical height of the blue line \\(px\\), that is, the symmetric equation from before:\n\\[\nf(x) + g(p) = p \\cdot x.\n\\]\nLet‚Äôs keep going with Arnold‚Äôs text.\n\nInvolutivity\nLet us consider a function \\(f\\) which is differentiable as many times as necessary, with \\(f''(x) &gt; 0\\). It is easy to verify that a Legendre transformation takes convex functions to convex functions. Therefore, we can apply it twice.\n\nIndeed, we already verified that this definition of the Legendre transformation maintains convexity for a specific function.\n\nTheorem. The Legendre transformation is involutive, i.e., its square is the identity: if under the Legendre transformation \\(f\\) is taken to \\(g\\), then the Legendre transform of \\(g\\) will again be \\(f\\).\n\nI don‚Äôt love Arnold‚Äôs prose, but this is great.\n\nProof. In order to apply the Legendre transform to \\(g\\), with variable \\(p\\), we must by definition look at a new independent variable (which we will call \\(x\\)), construct the function \\[\nG(x, p) = xp - g(p),\n\\] and find the point \\(p(x)\\) at which \\(G\\) attains its maximum: \\(\\partial G/\\partial p = 0\\), i.e., \\(g'(p) = x\\). Then the Legendre transform of \\(g(p)\\) will be the function of \\(x\\) equal to \\(G(x, p(x))\\).\nWe will show that \\(G(x, p(x)) = f(x)\\). To this end we notice that \\(G(x, p) = xp - q(p)\\) has a simple geometric interpretation: it is the ordinate of the point with abscissa \\(x\\) on the line tangent to the graph of \\(f(x)\\) with slope \\(p\\) (Figure 45). For fixed \\(p\\), the function \\(G(x, p)\\) is a linear function of \\(x\\), with \\(\\partial G/\\partial x = p\\), and for \\(x = x(p)\\) we have \\(G(x, p) = xp - g(p) = f(x)\\) by the definition of \\(g(p)\\).\nLet us now fix \\(x = x_0\\) and vary \\(p\\). Then the values of \\(G(x,p)\\) will be the ordinates of the points of intersection of the line \\(x=x_0\\) with the line tangen to the graph of \\(f(x)\\) with various slopes \\(p\\). By the convexity of the graph it follows that all these tangents lie below the curve, and therefore the maximum of \\(G(x,p)\\) for a fixed \\(x(p_0)\\) is equal to \\(f(x)\\) (and is achieed for \\(p=p(x_0)=f'(x_0)\\))."
  },
  {
    "objectID": "posts/2021-11-08-tomoko-fuse/index.html",
    "href": "posts/2021-11-08-tomoko-fuse/index.html",
    "title": "Tomoko Fuse Unit Origami",
    "section": "",
    "text": "This structure has the general shape of a dodecahedron, with 12 beautiful pentagonal stars embeded in it. I found a while back a scan of the book Tomoko Fuse Unit Origami Fantasy. The book is all written in japanese, but I could make sense of the diagrams.\nTomoko Fuse is a master of modular origami, just google her name and you‚Äôll find tons of fun projects.\nI used craft paper to give the structure a muted tones and a rustic feel. I think it turned out pretty good üòä."
  },
  {
    "objectID": "posts/2025-02-27-a4paper/index.html",
    "href": "posts/2025-02-27-a4paper/index.html",
    "title": "A4 paper",
    "section": "",
    "text": "The various sizes of the A series have an interesting property. If, for example, you divide the A4 sheet into two equal parts, each of the resulting rectangles will be an A5 sheet, whose proportions are exactly the same as the original A4."
  },
  {
    "objectID": "posts/2025-02-27-a4paper/index.html#what-is-this-proportion",
    "href": "posts/2025-02-27-a4paper/index.html#what-is-this-proportion",
    "title": "A4 paper",
    "section": "what is this proportion?",
    "text": "what is this proportion?\nLet‚Äôs call \\(a\\) and \\(b\\) the long and short sides of the A4 sheet.\nQuestion: what is \\(a/b\\)?\nThe sides of the A5 sheet are then \\(b\\) (long side) and \\(a/2\\) (short side). Because the proportions of the A5 are exactly the same as those of the A4, we have\n\\[\n\\frac{a}{b} = \\frac{b}{\\frac{a}{2}},\n\\]\nwhich after cross-multiplying gives\n\\[\n\\frac{a^2}{b^2} = 2.\n\\]\nTaking the square root gives\n\\[\n\\frac{a}{b} = \\sqrt{2}.\n\\]"
  },
  {
    "objectID": "posts/2025-02-27-a4paper/index.html#why-a4-whats-a0",
    "href": "posts/2025-02-27-a4paper/index.html#why-a4-whats-a0",
    "title": "A4 paper",
    "section": "Why A4? What‚Äôs A0?",
    "text": "Why A4? What‚Äôs A0?\nNow that we found the proportion of the A series, we can ask a follow up:\nQuestion: Why does the A4 have this specific size? What‚Äôs special about it?\nThe A series starts with A0, which has the nice property of having an area of 1 m\\(^2\\).\n\n\n\nSize\nArea (m¬≤)\n\n\n\n\nA0\n\\(1\\)\n\n\nA1\n\\(1/2\\)\n\n\nA2\n\\(1/4\\)\n\n\nA3\n\\(1/8\\)\n\n\nA4\n\\(1/16\\)\n\n\n\nWe found that the area of an A4 is \\(1/16\\) m\\(^2\\), so now we can write a system of two equations:\n\\[\n\\begin{align}\n\\frac{a}{b} &= \\sqrt{2} \\\\\na \\cdot b &= \\frac{1}{16}\n\\end{align}\n\\]\nSolving for \\(a\\) in the first equation gives \\(a=\\sqrt{2}b\\), and substituting this into the second equation gives\n\\[\n\\begin{align}\nb^2\\sqrt{2} &= \\frac{1}{16} \\\\\n\\Rightarrow b^2 &= \\frac{1}{\\sqrt{2}\\cdot 2^4} = \\frac{1}{2^{\\frac{1}{2}}\\cdot 2^4} = \\frac{1}{2^{\\frac{1}{2}+4}} \\\\\n\\Rightarrow b &= 2^{-\\frac{1}{4}-2}\n\\end{align}\n\\]\nand clearly\n\\[\n\\begin{align}\na &= \\sqrt{2}b \\\\\n\\Rightarrow a &= 2^{\\frac{1}{2}}2^{-\\frac{1}{4}-2} = 2^{\\frac{1}{2}-\\frac{1}{4}-2} \\\\\n\\Rightarrow a &= 2^{\\frac{1}{4}-2} \\\\\n\\end{align}\n\\]\nTo sum up: \\[\na = 2^{\\frac{1}{4}-2} \\qquad b = 2^{-\\frac{1}{4}-2}\n\\]\n\na = 2**(1/4-2)   # in meters\nb = 2**(-1/4-2)  # in meters\nprint(f\"a={1000*a:.0f} mm, b={1000*b:.0f} mm\")\nprint(\"Check out the exact values in the figure at the top of this post\")\n\na=297 mm, b=210 mm\nCheck out the exact values in the figure at the top of this post\n\n\nAnd this, my friends, concludes today‚Äôs exercise :)"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "A clean desk is the sign of a sick mind",
    "section": "",
    "text": "A clean desk is the sign of a sick mind\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLegendre transformations visualized\n\n\n\nmath\n\nphysics\n\n\n\nmuch more than algebraic manipulations\n\n\n\n\n\nJan 31, 2026\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nGreat and Small Stellated Dodecahedron\n\n\n\norigami\n\nprojects\n\nmath\n\n\n\none piece, two shapes\n\n\n\n\n\nDec 21, 2025\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nSnapology\n\n\n\norigami\n\nprojects\n\nmath\n\n\n\nmake anything from strips of paper\n\n\n\n\n\nSep 17, 2025\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nCelestial\n\n\n\norigami\n\nprojects\n\nmath\n\n\n\nthe rhombic hexecontahedron\n\n\n\n\n\nSep 17, 2025\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nTriangle Edge Module\n\n\n\norigami\n\nprojects\n\nmath\n\n\n\nMake a surprisingly sturdy dodecahedron\n\n\n\n\n\nJun 14, 2025\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nPHiZZ\n\n\n\norigami\n\nprojects\n\nmath\n\n\n\nFun ziz-zag modular origami unit\n\n\n\n\n\nJun 14, 2025\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nA4 paper\n\n\n\nprojects\n\nmath\n\n\n\nWhat‚Äôs the logic behind this paper?\n\n\n\n\n\nFeb 27, 2025\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nDoubling Time\n\n\n\nscience\n\n\n\nHere is an incredibly useful equation to calculate doubling times\n\n\n\n\n\nNov 16, 2021\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nParabolic Hyperboloid\n\n\n\nprojects\n\nmath\n\n\n\nA pringles-shaped construction\n\n\n\n\n\nNov 13, 2021\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nSkewer Hyperboloid\n\n\n\nprojects\n\nmath\n\n\n\nThe crown you always wanted\n\n\n\n\n\nNov 12, 2021\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nGeorge Hart‚Äôs Card Constructions\n\n\n\nprojects\n\n\n\nBeware, it boggles the mind!\n\n\n\n\n\nNov 8, 2021\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nTomoko Fuse Unit Origami\n\n\n\nprojects\n\n\n\nEndless fun\n\n\n\n\n\nNov 8, 2021\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nThe Sonobe Module\n\n\n\nprojects\n\n\n\nThe best way to start doing modular origami\n\n\n\n\n\nNov 3, 2021\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nHexastix\n\n\n\nprojects\n\n\n\nCrazy construction made of 72 pencils\n\n\n\n\n\nOct 28, 2021\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nPythagorean theorem\n\n\n\nmath\n\n\n\nOne of the oldest theorems, always fresh :)\n\n\n\n\n\nOct 28, 2021\n\n\nYair Mau\n\n\n\n\n\n\n\n\n\n\n\n\nThe can problem\n\n\n\nquestion\n\n\n\n\n\n\n\n\n\nOct 27, 2021\n\n\nYair Mau\n\n\n\n\n\nNo matching items"
  }
]